import{S as t,t as e,w as i,I as s,i as o,N as n,C as r,E as a,a as l,l as d,h as c,b as h,c as m,d as u,e as p,f as g,k as f,g as v,j as w,m as b,n as M,o as y,p as _,T as k,q as x,r as C,s as V,u as L,v as H,x as S,y as z,z as D,A,B as E,D as T,F as I,G as O,H as B,J as q,K as $,L as P,M as R,O as N,P as U,Q as j,R as F,U as W,V as K,W as J,X as Q,Y as G,Z as X,_ as Y,$ as Z,a0 as tt,a1 as et,a2 as it,a3 as st,a4 as ot,a5 as nt,a6 as rt,a7 as at,a8 as lt,a9 as dt,aa as ct,ab as ht,ac as mt,ad as ut,ae as pt,af as gt,ag as ft,ah as vt,ai as wt,aj as bt,ak as Mt,al as yt,am as _t,an as kt,ao as xt,ap as Ct,aq as Vt,ar as Lt,as as Ht}from"./vendor.7b009f4b.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(i){const s=new URL(t,location),o=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((i,n)=>{const r=new URL(t,s);if(self[e].moduleMap[r])return i(self[e].moduleMap[r]);const a=new Blob([`import * as m from '${r}';`,`${e}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){n(new Error(`Failed to import: ${t}`)),o(l)},onload(){i(self[e].moduleMap[r]),o(l)}});document.head.appendChild(l)})),self[e].moduleMap={}}}("/rich-text-editor/assets/");const St=new t({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:t=>["h"+t.attrs.level,0]},code_block:{attrs:{lang:{default:null}},content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs(t){let e=t.querySelector("code");return{lang:e&&e.className&&e.className.match(/language-(\w+)/)[1]||null}}}],toDOM:t=>["pre",{class:t.attrs.lang?`language-${t.attrs.lang}`:null},["code",0]]},text:{group:"inline"},image:{inline:!0,attrs:{src:{default:null},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")})}],toDOM(t){let{src:e,alt:i,title:s}=t.attrs;return["img",{src:e,alt:i,title:s}]}},figure:{content:"text*",group:"block",attrs:{image:{default:null}},isolating:!0,parseDOM:[{tag:"figure",contentElement:"figcaption",getAttrs(t){let e=t.querySelector("img");return{image:e?{src:e.src}:null}}}],toDOM:t=>["figure",["img",t.attrs.image],["figcaption",0]]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1})}],toDOM:t=>1==t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]},bulleted_list:{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]},list_item:{content:"paragraph (ordered_list | bulleted_list){0,1}",parseDOM:[{tag:"li"}],toDOM:()=>["li",0],defining:!0}},marks:{link:{attrs:{href:{default:null},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a",getAttrs:t=>({href:t.getAttribute("href"),title:t.getAttribute("title")})}],toDOM(t){let{href:e,title:i}=t.attrs;return["a",{href:e,title:i},0]}},italic:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},bold:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!=t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]}}});function zt(t,e,i){return new s(t,((t,s,o,n)=>{let r=i instanceof Function?i(s):i,a=t.tr;if(s[1]){let t=o+s[0].indexOf(s[1]),e=t+s[1].length;e<n&&a.delete(e,n),t>o&&a.delete(o,t),n=o+s[1].length}return a.addMark(o,n,e.create(r)),a.removeStoredMark(e),a}))}const Dt=o({rules:[e(/^(#{1,6})\s$/,St.nodes.heading,(t=>({level:t[1].length}))),e(/^```\s$/,St.nodes.code_block),i(/^>\s$/,St.nodes.blockquote),i(/^(\d+)\.\s$/,St.nodes.ordered_list,(t=>({order:+t[1]})),((t,e)=>e.childCount+e.attrs.order==+t[1])),i(/^\s*([-+*])\s$/,St.nodes.bulleted_list),zt(/\*\*([^\*]+)\*\*/,St.marks.bold),zt(/`([^`]+)`/,St.marks.code)]});class At{constructor(t){this.dom=this.contentDOM=document.createElement("h"+t.attrs.level),0==t.content.size&&(this.dom.dataset.placeholder="Header "+t.attrs.level)}update(t){return"heading"==t.type.name&&(t.content.size>0?delete this.dom.dataset.placeholder:this.dom.dataset.placeholder="Header "+t.attrs.level,!0)}}function Et(t){let e=new FileReader;e.addEventListener("load",(()=>{t.setProgress(100),t.setAttributes({src:e.result})})),e.readAsDataURL(t.file)}class Tt{constructor(t,e,i,s){this.node=t,this.view=e,this.getPos=i,this.dom=document.createElement("figure"),this.dom.className="editor-figure",this.options=s,this.dom.innerHTML='<div class="editor-figure__container" contenteditable="false">\n        <div class="editor-figure__uploader">\n          <label class="editor-figure__uploader__button">\n            <div class="editor-figure__uploader__icon">\n              <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14 6 17h12l-3.86-5.14z"/></svg>\n            </div>\n            <div class="editor-figure__uploader__label">\n              Click to select a image\n            </div>\n            <input type="file">\n          </label>\n        </div>\n        <div class="editor-figure__content">\n        </div>\n        <div class="editor-figure__progress">\n          <div class="editor-progress">\n            <div class="editor-progress__bar">\n            </div>\n          </div>\n        </div>\n      </div>\n      <figcaption></figcaption>',this.dom.querySelector(".editor-figure__uploader input").addEventListener("change",(t=>{this.startUpload(t.target.files[0])})),this.dom.querySelector(".editor-figure__container").addEventListener("click",(t=>{this.view.dispatch(this.view.state.tr.setSelection(n.create(this.view.state.doc,this.getPos())))})),this.contentDOM=this.dom.querySelector("figcaption"),this.progressBarTarget=this.dom.querySelector(".editor-progress__bar"),this.renderContent(t)}ignoreMutation(t){return!this.contentDOM.contains(t.target)}renderContent(t){if(this.dom.querySelector(".editor-figure__content img"),this.isImageChanged(t)){let e=this.dom.querySelector(".editor-figure__content");if(e.innerHTML="",t.attrs.image){let i=document.createElement("img");i.setAttribute("src",t.attrs.image.src),e.appendChild(i)}}this.dom.classList.toggle("editor-figure--empty",null==t.attrs.image),t.content.size>0?this.contentDOM.removeAttribute("data-placeholder"):this.contentDOM.setAttribute("data-placeholder","Caption (optional)")}isImageChanged(t){let e=this.dom.querySelector(".editor-figure__content img");if(t.attrs.image&&!e||!t.attrs.image&&e)return!0;if(t.attrs.image)for(var i in t.attrs.image)if(t.attrs.image[i]!=e.getAttribute(i))return!0;return!1}startUpload(t){let e=document.createElement("img"),i=new FileReader;i.addEventListener("load",(()=>{e.src=i.result})),i.readAsDataURL(t),this.dom.querySelector(".editor-figure__content").innerHTML="",this.dom.querySelector(".editor-figure__content").appendChild(e),this.setProgress(0),this.dom.classList.add("editor-figure--uploading"),(this.options.uploadImage||Et)({file:t,setProgress:this.setProgress.bind(this),setAttributes:this.setAttributes.bind(this)})}update(t){return"figure"==t.type.name&&(this.node=t,this.renderContent(t),!0)}setProgress(t){this.progressBarTarget.style.width=t+"%"}setAttributes(t){this.dom.classList.remove("editor-figure--uploading"),this.view.dispatch(this.view.state.tr.setNodeMarkup(this.getPos(),null,{image:t}))}}const It={token:(t,e)=>(t.skipToEnd(),null)},Ot={css:{name:"CSS",config:x},c:{name:"C",config:C},cpp:{name:"C++",config:V},csharp:{name:"CSharp",config:L},diff:{name:"Diff",config:H},erlang:{name:"Erlang",config:S},go:{name:"Go",config:z},haskell:{name:"Haskell",config:D},java:{name:"Java",config:A},javascript:{name:"JavaScript",config:E},json:{name:"JSON",config:T},kotlin:{name:"Kotlin",config:I},objectivec:{name:"ObjectiveC",config:O},python:{name:"Python",config:B},plaintext:{name:"PlainText",config:It},ruby:{name:"Ruby",config:q},rust:{name:"Rust",config:$},shell:{name:"Shell",config:P},sql:{name:"SQL",config:R},swift:{name:"Swift",config:N},typescript:{name:"TypeScript",config:U},html:{name:"HTML",config:j},xml:{name:"XML",config:F},yaml:{name:"YAML",config:W}};function Bt({state:t,dispatch:e}){return t.selection.ranges.some((t=>!t.empty))?K({state:t,dispatch:e}):(e(t.update(t.replaceSelection(J(t,Q(t))),{scrollIntoView:!0,annotations:G.userEvent.of("input")})),!0)}X.mount=()=>{};class qt{constructor(t,e,i){this.node=t,this.view=e,this.getPos=i,this.dom=document.createElement("div"),this.dom.className="editor-code-block",this.dom.innerHTML='\n      <div class="editor-toolbar">\n        <div class="editor-toolbar__space">\n        </div>\n        <div class="editor-toolbar__action">\n          <select name="lang">\n          </select>\n        </div>\n      </div>\n      <div class="editor-code-block__content">\n      </div>\n    ',this.langSelect=this.dom.querySelector('select[name="lang"]');for(const s in Ot){let t=document.createElement("option");t.textContent=Ot[s].name,t.value=s,this.langSelect.appendChild(t)}this.langSelect.value=this.node.attrs.lang||"plaintext",this.langSelect.addEventListener("change",(()=>{this.view.dispatch(this.view.state.tr.setNodeMarkup(this.getPos(),null,{lang:this.langSelect.value}))})),this.language=new r,this.cm=new a({state:l.create({doc:t.textContent,extensions:[d(),c(),h(),m,u(),p(),g(),f.of([...v,...w,...b]),this.language.of(M.define(It)),f.of([{key:"Tab",run:Bt,shift:y},{key:"Mod-Enter",run:()=>{_(this.view.state,this.view.dispatch)&&this.view.focus()}}]),a.updateListener.of((t=>{this.outerUpdating||(t.docChanged&&this.valueChanged(),t.selectionSet&&this.forwardSelection())}))]})}),this.setLang(this.node.attrs.lang),this.dom.querySelector(".editor-code-block__content").appendChild(this.cm.dom)}setSelection(t,e){this.cm.focus(),this.cm.state.update({selection:{from:t,to:e}})}update(t){if(t.type!=this.node.type)return!1;if(this.node=t,!this.innerUpdating){let t=this.computeChange(this.cm.state.doc.toString(),this.node.textContent);t&&(this.outerUpdating=!0,this.cm.dispatch({changes:{from:t.from,to:t.to,insert:t.text||""}}),this.outerUpdating=!1)}return this.setLang(this.node.attrs.lang),!0}setLang(t){if(this.currentLang!=t){let e=Ot[t]?Ot[t].config:It;this.cm.dispatch({effects:this.language.reconfigure(M.define(e))}),this.currentLang=t}}stopEvent(){return!0}valueChanged(){let t=this.computeChange(this.node.textContent,this.cm.state.doc.toString());if(t){this.innerUpdating=!0;let e=this.getPos()+1,i=this.view.state.tr.replaceWith(t.from+e,t.to+e,t.text?St.text(t.text):null);this.view.dispatch(i),this.innerUpdating=!1}}computeChange(t,e){if(t==e)return null;let i=0,s=t.length,o=e.length;for(;i<s&&t.charCodeAt(i)==e.charCodeAt(i);)++i;for(;s>i&&o>i&&t.charCodeAt(s-1)==e.charCodeAt(o-1);)s--,o--;return{from:i,to:s,text:e.slice(i,o)}}forwardSelection(){let{from:t,to:e}=this.cm.state.selection.ranges[0],i=this.getPos(),s=k.create(this.view.state.doc,t+i,e+i);s.eq(this.view.state.selection)||this.view.dispatch(this.view.state.tr.setSelection(s))}}function $t(t,e){let{$from:i,$to:s}=t.selection,o=i.blockRange(s,(t=>t.childCount&&t.firstChild.type==St.nodes.list_item));return!!o&&(!e||(i.node(o.depth-1).type==St.nodes.list_item?Pt(t,e,o):function(t,e,i){let s=t.tr,o=i.parent;for(let u=i.end,p=i.endIndex-1,g=i.startIndex;p>g;p--)u-=o.child(p).nodeSize,s.delete(u-1,u+1);let n=s.doc.resolve(i.start),r=n.nodeAfter,a=0==i.startIndex,l=i.endIndex==o.childCount,d=n.node(-1),c=n.index(-1);if(!d.canReplace(c+(a?0:1),c+1,r.content.append(l?Y.empty:Y.from(o))))return!1;let h=n.pos,m=h+r.nodeSize;return s.step(new et(h-(a?1:0),m+(l?1:0),h+1,m-1,new Z((a?Y.empty:Y.from(o.copy(Y.empty))).append(l?Y.empty:Y.from(o.copy(Y.empty))),a?0:1,l?0:1),a?0:1)),e(s.scrollIntoView()),!0}(t,e,o)))}function Pt(t,e,i){let s=t.tr,o=i.end,n=i.$to.end(i.depth);if(o<n){let e=t.doc.resolve(i.start).nodeAfter;if(console.log(e),e.childCount>1){let t=e.lastChild,i=new Z(Y.from(St.nodes.list_item.create(null,t.type.create(null,null))),2,0);s.step(new et(o-2,n,o,n,i,0,!0))}else{let t=i.parent,e=new Z(Y.from(St.nodes.list_item.create(null,t.type.create(null,null))),1,0);s.step(new et(o-1,n,o,n,e,1,!0))}i=new it(s.doc.resolve(i.$from.pos),s.doc.resolve(n),i.depth)}return e(s.lift(i,st(i)).scrollIntoView()),!0}function Rt(t,e,i){let s=i.startIndex;if(0==s)return!1;let o=i.parent,n=o.child(s-1);if(n.type!=St.nodes.list_item)return!1;if(e){let s=n.lastChild&&n.lastChild.type==o.type,r=Y.from(s?St.nodes.list_item.create():null),a=new Z(Y.from(St.nodes.list_item.create(null,Y.from(o.type.create(null,r)))),s?3:1,0),l=i.start,d=i.end;e(t.tr.step(new et(l-(s?3:1),d,l,d,a,1,!0)).scrollIntoView())}return!0}let Nt=ot(nt,(function(t,e){let{$cursor:i}=t.selection;return!(!i||"paragraph"==i.parent.type.name||i.parent.content.size)&&(e&&e(t.tr.setBlockType(i.before(),i.after(),St.nodes.paragraph)),!0)}),(function(t,e){let{$cursor:i}=t.selection;if(!i||0!=i.parentOffset)return!1;if(i.depth<2||i.node(-1).type!=St.nodes.list_item||0!=i.index(-1))return!1;if(e){if(!(i.index(-2)>0))return $t(t,e);if(1==i.doc.resolve(i.before(-1)).nodeBefore.childCount)e(t.tr.join(i.before(-1),2));else{Rt(t,e,i.blockRange(i,(t=>t.childCount&&t.firstChild.type==St.nodes.list_item)))}}return!0}),rt,at),Ut=ot(lt,(function(t,e){let{$from:i,$to:s,node:o}=t.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(s))return!1;let n=i.node(-1);if(n.type!=St.nodes.list_item)return!1;if(0==i.parent.content.size&&i.node(-1).childCount==i.indexAfter(-1)){if(2==i.depth||i.node(-3).type!=St.nodes.list_item||i.index(-2)!=i.node(-2).childCount-1)return!1;if(e){let s=Y.empty,o=i.index(-1)>0;for(let t=i.depth-(o?1:2);t>=i.depth-3;t--)s=Y.from(i.node(t).copy(s));s=s.append(Y.from(St.nodes.list_item.createAndFill()));let n=t.tr.replace(i.before(o?null:-1),i.after(-3),new Z(s,o?3:2,2));n.setSelection(t.selection.constructor.near(n.doc.resolve(i.pos+(o?3:2)))),e(n.scrollIntoView())}return!0}let r=s.pos==i.end()?n.contentMatchAt(0).defaultType:null,a=t.tr.delete(i.pos,s.pos),l=r&&[null,{type:r}];return!!tt(a.doc,i.pos,2,l)&&(e&&e(a.split(i.pos,2,l).scrollIntoView()),!0)}),dt,ct,(function(t,e){let{$head:i,$anchor:s}=t.selection;if(!i.parent.type.spec.isolating||!i.sameParent(s))return!1;let o=i.node(-1),n=i.indexAfter(-1),r=function(t){for(let e=0;e<t.edgeCount;e++){let{type:i}=t.edge(e);if(i.isTextblock&&!i.hasRequiredAttrs())return i}return null}(o.contentMatchAt(n));if(!o.canReplaceWith(n,n,r))return!1;if(e){let s=i.after(),o=t.tr.replaceWith(s,s,r.createAndFill());o.setSelection(pt.near(o.doc.resolve(s),1)),e(o.scrollIntoView())}return!0}),ht),jt=ot(nt,(function(t,e){let{$cursor:i}=t.selection;if(!i||i.parentOffset!=i.parent.content.size)return!1;if(i.depth<2||i.node(-1).type!=St.nodes.list_item)return!1;if(1==i.node(-1).childCount){if(i.index(-2)<i.node(-2).childCount-1)return e&&e(t.tr.join(i.after(-1),2)),!0;{let s;for(let t=i.depth-1;t>1;t-=2)if(i.index(t-1)<i.node(t-1).childCount-1){s=t;break}if(s){if(e){let o=i.doc.resolve(i.after(s)).nodeAfter,n=i.after(s),r=n+o.nodeSize;return Rt(t,e,new it(i.doc.resolve(n),i.doc.resolve(r),s-1))}return!0}return!1}}if(e){let s=i.after()+1,o=s+i.doc.resolve(s).nodeAfter.nodeSize,n=i.doc.resolve(s).blockRange(i.doc.resolve(o));n.$to.end(n.depth),t.tr,Pt(t,e,n)}return!0}),mt,ut),Ft={Enter:Ut,Backspace:Nt,"Mod-Backspace":Nt,Delete:jt,"Mod-Delete":jt,"Mod-a":gt,"Mod-z":ft,"Mod-y":vt,Tab:ot((function(t,e){let{$from:i,$to:s}=t.selection,o=i.blockRange(s,(t=>t.childCount&&t.firstChild.type==St.nodes.list_item));return!!o&&Rt(t,e,o)})),"Shift-Tab":ot($t)},Wt={"Ctrl-h":Ft.Backspace,"Alt-Backspace":Ft["Mod-Backspace"],"Ctrl-d":Ft.Delete,"Ctrl-Alt-Backspace":Ft["Mod-Delete"],"Alt-Delete":Ft["Mod-Delete"],"Alt-d":Ft["Mod-Delete"]};for(let le in Ft)Wt[le]=Ft[le];let Kt=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Wt:Ft;function Jt(t,e){return function(i,s){let{$cursor:o}=i.selection;if(!o)return!1;if(s){o.after();let n=i.tr;n.replaceWith(o.before(),o.after(),t.createAndFill(e)),s(n.setSelection(k.near(n.doc.resolve(o.start()))))}return!0}}class Qt{constructor(t){this.options=t}render(t){this.editorView=t,this.dom=document.createElement("button"),this.dom.type="button",this.dom.className="editor-list__item",this.dom.innerHTML=`\n      <div class="editor-list__item__thumb">\n        <div class="editor__icon-thumb">\n          ${this.options.icon}\n        </div>\n      </div>\n      <div class="editor-list__item__content">\n        <div class="editor-list__item__primary-text">\n          ${this.options.label}\n        </div>\n        <div class="editor-list__item__secondary-text">\n          ${this.options.description}\n        </div>\n      </div>\n    `,this.dom.addEventListener("click",this.execute.bind(this))}execute(){this.options.command(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}match(t){let e=new RegExp(".*"+t.split("").join(".*")+".*","i");return e.test(this.options.label)||e.test(this.options.description)}}class Gt{constructor(t){this.options=t}render(t){this.dom=document.createElement("div"),this.dom.className="editor-list",this.labelDom=document.createElement("div"),this.labelDom.className="editor-subheader",this.labelDom.textContent=this.options.label,this.options.items.forEach((e=>{e.render(t)}))}update(t){this.items=t?this.options.items.filter((e=>e.match(t))):this.options.items,this.dom.innerHTML="",this.items.forEach((t=>{this.dom.appendChild(t.dom)}))}}class Xt{constructor(t){this.options=t,this.content=t.content||[new Gt({label:"Basic",items:[new Qt({label:"Heading 1",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-type-h1" viewBox="0 0 16 16"> <path d="M8.637 13V3.669H7.379V7.62H2.758V3.67H1.5V13h1.258V8.728h4.62V13h1.259zm5.329 0V3.669h-1.244L10.5 5.316v1.265l2.16-1.565h.062V13h1.244z"/></svg>',description:"Big section heading",command:Jt(St.nodes.heading,{level:1})}),new Qt({label:"Heading 2",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-type-h2" viewBox="0 0 16 16"> <path d="M7.638 13V3.669H6.38V7.62H1.759V3.67H.5V13h1.258V8.728h4.62V13h1.259zm3.022-6.733v-.048c0-.889.63-1.668 1.716-1.668.957 0 1.675.608 1.675 1.572 0 .855-.554 1.504-1.067 2.085l-3.513 3.999V13H15.5v-1.094h-4.245v-.075l2.481-2.844c.875-.998 1.586-1.784 1.586-2.953 0-1.463-1.155-2.556-2.919-2.556-1.941 0-2.966 1.326-2.966 2.74v.049h1.223z"/> </svg>',description:"Medium section heading",command:Jt(St.nodes.heading,{level:2})}),new Qt({label:"Heading 3",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-type-h3" viewBox="0 0 16 16"> <path d="M7.637 13V3.669H6.379V7.62H1.758V3.67H.5V13h1.258V8.728h4.62V13h1.259zm3.625-4.272h1.018c1.142 0 1.935.67 1.949 1.674.013 1.005-.78 1.737-2.01 1.73-1.08-.007-1.853-.588-1.935-1.32H9.108c.069 1.327 1.224 2.386 3.083 2.386 1.935 0 3.343-1.155 3.309-2.789-.027-1.51-1.251-2.16-2.037-2.249v-.068c.704-.123 1.764-.91 1.723-2.229-.035-1.353-1.176-2.4-2.954-2.385-1.873.006-2.857 1.162-2.898 2.358h1.196c.062-.69.711-1.299 1.696-1.299.998 0 1.695.622 1.695 1.525.007.922-.718 1.592-1.695 1.592h-.964v1.074z"/> </svg>',description:"Small section heading",command:Jt(St.nodes.heading,{level:3})}),new Qt({label:"Blockquote",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><g><path d="M8.17,17L8.17,17c0.51,0,0.98-0.29,1.2-0.74l1.42-2.84c0.14-0.28,0.21-0.58,0.21-0.89V8c0-1.1-0.9-2-2-2H5.34 C4.6,6,4,6.6,4,7.34v4.32C4,12.4,4.6,13,5.34,13H8l-1.03,2.06C6.52,15.95,7.17,17,8.17,17z M17.17,17L17.17,17 c0.51,0,0.98-0.29,1.2-0.74l1.42-2.84c0.14-0.28,0.21-0.58,0.21-0.89V7.34C20,6.6,19.4,6,18.66,6h-4.32C13.6,6,13,6.6,13,7.34 v4.32C13,12.4,13.6,13,14.34,13H17l-1.03,2.06C15.52,15.95,16.17,17,17.17,17z"/></g></g></g></svg>',description:"Quote content",command:Jt(St.nodes.blockquote)}),new Qt({label:"Code",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><path d="M0,0h24v24H0V0z" fill="none"/></g><g><path d="M8.7,15.9L4.8,12l3.9-3.9c0.39-0.39,0.39-1.01,0-1.4s-1.01-0.39-1.4,0l-4.59,4.59c-0.39,0.39-0.39,1.02,0,1.41l4.59,4.6 c0.39,0.39,1.01,0.39,1.4,0S9.09,16.29,8.7,15.9z M15.3,15.9l3.9-3.9l-3.9-3.9c-0.39-0.39-0.39-1.01,0-1.4s1.01-0.39,1.4,0 l4.59,4.59c0.39,0.39,0.39,1.02,0,1.41l-4.59,4.6c-0.39,0.39-1.01,0.39-1.4,0C14.91,16.91,14.91,16.29,15.3,15.9z"/></g></svg>',description:"Source code snipper",command:Jt(St.nodes.code_block)}),new Qt({label:"Image",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M6.6,16.2l2-2.67 c0.2-0.27,0.6-0.27,0.8,0L11.25,16l2.6-3.47c0.2-0.27,0.6-0.27,0.8,0l2.75,3.67c0.25,0.33,0.01,0.8-0.4,0.8H7 C6.59,17,6.35,16.53,6.6,16.2z"/></g></svg>',description:"Image with caption",command:Jt(St.nodes.figure)}),new Qt({label:"Divider",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" fill-rule="evenodd" height="24" width="24"/><g><path d="M19,13H5c-0.55,0-1-0.45-1-1v0c0-0.55,0.45-1,1-1h14c0.55,0,1,0.45,1,1v0 C20,12.55,19.55,13,19,13z" fill-rule="evenodd"/></g></g></svg>',description:"Horizontal rule",command:Jt(St.nodes.horizontal_rule)})]})],this.ignored=bt.empty}handleView(t){return this.editorView=t,this.dom=document.createElement("div"),this.dom.className="editor-dropdown",this.content.forEach((e=>{e.render(t)})),this.editorView.dom.parentNode.appendChild(this.dom),{update:this.update.bind(this),destroy:this.destroy.bind(this)}}update(t){this.match?this.showMenu():this.hideMenu()}findMatch(t){let{$cursor:e}=t.selection;if(!e||1!=e.depth||"paragraph"!=e.parent.type.name)return null;if(this.ignored.find(e.start(),e.end()).length)return null;let i=e.doc.textBetween(e.start(),e.end()),s=/^\/(\w*)$/.exec(i);return s?{query:s[1],text:i,from:e.start(),to:e.end()}:null}showMenu(){this.updateMenuContent(),this.updateMenuPosition(),this.selectFirst(),this.active=!0}updateMenuContent(){this.query!=this.match.query&&(this.query=this.match.query,this.unselect(),this.dom.innerHTML="",this.items=[],this.content.forEach((t=>{t.update(this.query),t.items.length>0&&(this.dom.appendChild(t.labelDom),this.dom.appendChild(t.dom),this.items=this.items.concat(t.items))})))}updateMenuPosition(){this.dom.classList.add("editor-dropdown--open");let t=this.editorView.coordsAtPos(this.editorView.state.selection.$cursor.start()),e=this.editorView.dom.offsetParent.getBoundingClientRect();this.dom.style.top=t.bottom-e.top+"px",this.dom.style.left=t.left-e.left+"px"}hideMenu(){this.active&&(this.match=null,this.query=null,this.dom.innerHTML="",this.dom.classList.remove("editor-dropdown--open"),this.active=!1)}destroy(){this.dom.remove()}handleKeyDown(t,e){if(this.active)switch(e.keyCode){case 38:return this.selectPrev(),!0;case 40:return this.selectNext(),!0;case 13:return this.executeSeleted(),!0;case 27:return this.esc(),!0}}selectFirst(){this.items.length&&this.selectIndex(0)}selectLast(){this.items.length&&this.selectIndex(this.items.length-1)}selectNext(){this.items.length&&(this.selectedIndex<this.items.length-1?this.selectIndex(this.selectedIndex+1):this.selectFirst())}selectPrev(){this.items.length&&(this.selectedIndex>0?this.selectIndex(this.selectedIndex-1):this.selectLast())}selectIndex(t){this.unselect(),this.selectedIndex=t,this.selectedItem=this.items[t],this.selectedItem.dom.classList.add("editor-list__item--active"),this.dom.scrollTop+this.dom.offsetHeight<this.selectedItem.dom.offsetTop+this.selectedItem.dom.offsetHeight?this.dom.scrollTop=this.selectedItem.dom.offsetTop+this.selectedItem.dom.offsetHeight-this.dom.offsetHeight:this.dom.scrollTop>this.selectedItem.dom.offsetTop&&(this.dom.scrollTop=this.selectedItem.dom.offsetTop)}unselect(){this.selectedItem&&(this.selectedIndex=null,this.selectedItem.dom.classList.remove("editor-list__item--active"))}executeSeleted(){this.selectedItem&&this.selectedItem.execute()}esc(){if(this.match){this.ignored=this.ignored.add(this.editorView.state.doc,[Mt.inline(this.match.from,this.match.to,{class:"editor-block-menu__ignored"})]);let t=this.editorView.state.tr.insertText(this.match.text,this.match.from,this.match.to);this.editorView.dispatch(t)}}apply(t,e){this.ignored=this.ignored.map(t.mapping,e.doc),this.match=this.findMatch(e)}decorations(t){return this.match?this.ignored.add(t.doc,[Mt.inline(this.match.from,this.match.to,{class:"editor-block-menu__match"})]):this.ignored}}function Yt(t={}){let e=new Xt(t);return new wt({state:{init(){},apply(t,i,s,o){e.apply(t,o)}},props:{handleKeyDown:(t,i)=>e.handleKeyDown(t,i),decorations:t=>e.decorations(t)},view:t=>e.handleView(t)})}class Zt{constructor(t){this.editorView=t,this.dom=document.createElement("div"),this.dom.className="editor-dropdown editor-link-menu",this.dom.innerHTML='\n      <div class="editor-toolbar editor-link-menu__toolbar">\n        <div class="editor-toolbar__action">\n          <button type="button" class="editor-button editor-button--icon editor-button--readonly">\n            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>\n          </button>\n        </div>\n        <div class="editor-toolbar__title">\n          <a target="_blank" data-target="link">\n          </a>\n        </div>\n        <div class="editor-toolbar__action">\n          <button type="button" class="editor-button editor-button--icon" data-action="copy">\n            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15 1H4c-1.1 0-2 .9-2 2v13c0 .55.45 1 1 1s1-.45 1-1V4c0-.55.45-1 1-1h10c.55 0 1-.45 1-1s-.45-1-1-1zm4 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-1 16H9c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z"/></svg>\n          </button>\n        </div>\n        <div class="editor-toolbar__action" data-action="edit">\n          <button type="button" class="editor-button editor-button--icon">\n            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>\n          </button>\n        </div>\n        <div class="editor-toolbar__action">\n          <button type="button" class="editor-button editor-button--icon" data-action="unlink">\n            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M21.94 11.23C21.57 8.76 19.32 7 16.82 7h-2.87c-.52 0-.95.43-.95.95s.43.95.95.95h2.9c1.6 0 3.04 1.14 3.22 2.73.17 1.43-.64 2.69-1.85 3.22l1.4 1.4c1.63-1.02 2.64-2.91 2.32-5.02zM4.12 3.56c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41l2.4 2.4c-1.94.8-3.27 2.77-3.09 5.04C2.23 15.05 4.59 17 7.23 17h2.82c.52 0 .95-.43.95-.95s-.43-.95-.95-.95H7.16c-1.63 0-3.1-1.19-3.25-2.82-.15-1.72 1.11-3.17 2.75-3.35l2.1 2.1c-.43.09-.76.46-.76.92v.1c0 .52.43.95.95.95h1.78L13 15.27V17h1.73l3.3 3.3c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L4.12 3.56zM16 11.95c0-.52-.43-.95-.95-.95h-.66l1.49 1.49c.07-.13.12-.28.12-.44v-.1z"/></svg>\n          </button>\n        </div>\n      </div>\n      <form class="editor-toolbar editor-link-menu__form" data-action="save">\n        <input class="editor-text-field" data-target="input" placeholder="Paste or type a link...">\n        <div class="editor-toolbar__action">\n          <button type="submit" class="editor-button editor-button--icon">\n            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 16.17L5.53 12.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L9 16.17z"/></svg>\n          </button>\n        </div>\n        <div class="editor-toolbar__action">\n          <button type="button" class="editor-button editor-button--icon" data-action="close">\n            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg>\n          </button>\n        </div>\n      </form>\n    ',this.editorView.dom.parentNode.appendChild(this.dom),this.linkTarget=this.dom.querySelector('[data-target="link"]'),this.inputTarget=this.dom.querySelector('[data-target="input"]'),this.dom.querySelector('[data-action="copy"]').addEventListener("click",this.copy.bind(this)),this.dom.querySelector('[data-action="edit"]').addEventListener("click",this.edit.bind(this)),this.dom.querySelector('[data-action="unlink"]').addEventListener("click",this.unlink.bind(this)),this.dom.querySelector('[data-action="close"]').addEventListener("click",this.close.bind(this)),this.dom.querySelector('[data-action="save"]').addEventListener("submit",this.save.bind(this))}update(t,e){let i=te.getState(t.state);if(this.mark=this.from=this.to=null,i&&i.add)return this.from=i.add.from,this.to=i.add.to,void this.showMenu();let{$from:s,$to:o,from:n,to:r}=t.state.selection;if(s.node().eq(o.node())){let t=s.start();s.node().forEach(((e,i,s)=>{let o=t+i,a=t+i+e.nodeSize;if(o<n&&a>r){let t=St.marks.link.isInSet(e.marks);t&&(this.mark=t,this.from=o,this.to=a)}}))}this.mark?this.showMenu():this.hideMenu()}showMenu(){this.dom.classList.add("editor-dropdown--open");let t=this.editorView.coordsAtPos(this.from),e=this.editorView.coordsAtPos(this.to),i=this.dom.offsetParent.getBoundingClientRect(),s=Math.max((t.left+e.left)/2,t.left+8),o=this.dom.getBoundingClientRect();s-o.width/2<i.left?this.dom.style.left="0px":s+o.width/2>i.left+i.width?this.dom.style.left=i.width-o.width+"px":this.dom.style.left=s-o.width/2-i.left+"px",this.dom.style.top=t.bottom-i.top+8+"px",this.mark?(this.linkTarget.textContent=this.mark.attrs.href,this.linkTarget.href=this.mark.attrs.href,this.inputTarget.value=this.mark.attrs.href):(this.linkTarget.textContent="",this.linkTarget.href="",this.inputTarget.value="",this.edit())}hideMenu(){this.dom.classList.remove("editor-dropdown--open")}copy(){navigator.clipboard.writeText(this.mark.attrs.href)}edit(){this.dom.classList.add("editor-link-menu--editing"),this.inputTarget.focus()}unlink(){this.editorView.dispatch(this.editorView.state.tr.removeMark(this.from,this.to,St.marks.link)),this.editorView.focus()}save(t){t.preventDefault(),this.editorView.dispatch(this.editorView.state.tr.addMark(this.from,this.to,St.marks.link.create({href:this.inputTarget.value}))),this.close()}close(){this.mark?this.dom.classList.remove("editor-link-menu--editing"):this.hideMenu(),this.editorView.focus()}destroy(){this.dom.remove()}}const te=new yt("link-menu");class ee{constructor(t){this.options=t}render(t){let e=document.createElement("button");e.type="button",e.className="editor-inline-menu__item",e.innerHTML=this.options.icon,e.setAttribute("title",this.options.title),e.addEventListener("click",(()=>{t.focus(),this.options.command(t.state,t.dispatch)}));return{dom:e,update:(t,i)=>{if(this.options.active){let i=this.options.active(t.state);e.classList.toggle("editor-inline-menu__item--active",i)}}}}}function ie(t){return function(e){let{from:i,$from:s,to:o,empty:n}=e.selection;return n?!!t.isInSet(e.storedMarks||s.marks()):e.doc.rangeHasMark(i,o,t)}}const se=_t(St.marks.link);const oe=[new ee({icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H8c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h5.78c2.07 0 3.96-1.69 3.97-3.77.01-1.53-.85-2.84-2.15-3.44zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/></svg>',title:"Bold",command:_t(St.marks.bold),active:ie(St.marks.bold)}),new ee({icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 5.5c0 .83.67 1.5 1.5 1.5h.71l-3.42 8H7.5c-.83 0-1.5.67-1.5 1.5S6.67 18 7.5 18h5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5h-.71l3.42-8h1.29c.83 0 1.5-.67 1.5-1.5S17.33 4 16.5 4h-5c-.83 0-1.5.67-1.5 1.5z"/></svg>',title:"Italic",command:_t(St.marks.italic),active:ie(St.marks.italic)}),new ee({icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M8.7 15.9L4.8 12l3.9-3.9c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0l-4.59 4.59c-.39.39-.39 1.02 0 1.41l4.59 4.6c.39.39 1.01.39 1.4 0 .39-.39.39-1.01 0-1.4zm6.6 0l3.9-3.9-3.9-3.9c-.39-.39-.39-1.01 0-1.4.39-.39 1.01-.39 1.4 0l4.59 4.59c.39.39.39 1.02 0 1.41l-4.59 4.6c-.39.39-1.01.39-1.4 0-.39-.39-.39-1.01 0-1.4z"/></svg>',title:"Code",command:_t(St.marks.code),active:ie(St.marks.code)}),new ee({icon:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3.96 11.38C4.24 9.91 5.62 8.9 7.12 8.9h2.93c.52 0 .95-.43.95-.95S10.57 7 10.05 7H7.22c-2.61 0-4.94 1.91-5.19 4.51C1.74 14.49 4.08 17 7 17h3.05c.52 0 .95-.43.95-.95s-.43-.95-.95-.95H7c-1.91 0-3.42-1.74-3.04-3.72zM9 13h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1s.45 1 1 1zm7.78-6h-2.83c-.52 0-.95.43-.95.95s.43.95.95.95h2.93c1.5 0 2.88 1.01 3.16 2.48.38 1.98-1.13 3.72-3.04 3.72h-3.05c-.52 0-.95.43-.95.95s.43.95.95.95H17c2.92 0 5.26-2.51 4.98-5.49-.25-2.6-2.59-4.51-5.2-4.51z"/></svg>',title:"Link",command:function(t,e){let{from:i,to:s}=t.selection;t.doc.rangeHasMark(i,s,St.marks.link)?se(t,e):e(t.tr.setMeta(te,{add:{from:i,to:s}}))},active:ie(St.marks.link)})];class ne{constructor(t,e={}){this.editorView=t,this.opitons=e,this.dom=document.createElement("div"),this.dom.className="editor-inline-menu",this.editorView.dom.parentNode.appendChild(this.dom),this.items=(e.items||oe).map((t=>t.render(this.editorView))),this.items.forEach((t=>{this.dom.appendChild(t.dom)})),this.arrowDom=document.createElement("div"),this.arrowDom.className="editor-inline-menu__arrow",this.dom.appendChild(this.arrowDom)}update(t,e){let{empty:i,node:s,from:o,to:n}=t.state.selection;if(i||s)this.dom.classList.remove("editor-inline-menu--open");else{this.dom.classList.add("editor-inline-menu--open");let i=t.coordsAtPos(o),s=t.coordsAtPos(n),r=this.dom.offsetParent.getBoundingClientRect(),a=Math.max((i.left+s.left)/2,i.left+12),l=this.dom.getBoundingClientRect();a-l.width/2<r.left?(this.dom.style.left="0px",this.arrowDom.style.left=a-r.left+"px"):a+l.width/2>r.left+r.width?(this.dom.style.left=r.width-l.width+"px",this.arrowDom.style.left=a-r.left-r.width+l.width+"px"):(this.dom.style.left=a-l.width/2-r.left+"px",this.arrowDom.style.left="50%"),this.dom.style.bottom=r.bottom-i.top+8+"px",this.items.forEach((i=>{i.update(t,e)}))}}destroy(){this.dom.remove()}}function re(t){return new wt({view:e=>new ne(e,t)})}const ae=/^https?:\/\/\p{ASCII}+$/u;window.editor=new class{constructor(t,e={}){this.element=t,this.options=e;let i=document.createElement("div");i.innerHTML=this.options.input?this.options.input.value:this.element.innerHTML,this.element.innerHTML="";let s=kt.create({schema:St,doc:xt.fromSchema(St).parse(i),plugins:[Ct(),Yt(),re(),new wt({key:te,state:{init:()=>null,apply:(t,e)=>t.getMeta(te)},view:t=>new Zt(t)}),new wt({props:{handlePaste(t,e,i){let s=e.clipboardData.getData("text");return!!ae.test(s)&&(t.dispatch(t.state.tr.replaceSelectionWith(St.text(s,[St.marks.link.create({href:s})]),!1)),!0)}}}),Vt(Kt),Dt]});this.editorView=new Lt(this.element,{state:s,nodeViews:{heading:t=>new At(t),figure:(t,i,s)=>new Tt(t,i,s,e),code_block:(t,e,i)=>new qt(t,e,i)},dispatchTransaction:t=>{this.editorView.updateState(this.editorView.state.apply(t)),t.docChanged&&this.options.input&&(this.options.input.value=this.getContent(),this.options.input.dispatchEvent(new Event("input",{bubbles:!0})))}}),this.editorView.dom.classList.add("editor")}getContent(){let t=Ht.fromSchema(St).serializeFragment(this.editorView.state.doc.content),e=document.createElement("div");return e.appendChild(t),e.innerHTML}}(document.querySelector("#editor"));
